(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{45728:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(58365)}])},25795:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),s=n(9008),a=n.n(s),i=n(41664),o=n.n(i);function l(e){var t=e.error,n=t.status,s=t.message,i=t.title;switch(n){case 400:s||(s="400 - Bad Request"),i||(i="400");break;case 404:s||(s="404 - Page Not Found"),i||(i="404");break;case 503:s||(s="503 - Failed to Connect to Backend"),i||(i="Server Error")}return(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"".concat(i," - CornHub")})}),(0,r.jsx)("img",{src:"https://cornhub.objectdepot.net/static/cornmaze.gif",alt:"Corn Maze",className:"m-auto"}),(0,r.jsx)("h1",{className:"text-center text-2xl font-bold",children:s||"An error occured"}),404===n?(0,r.jsxs)("h2",{className:"text-center text-lg",children:["The page you're looking for doesn't exist!",(0,r.jsx)("br",{}),"Click ",(0,r.jsx)(o(),{href:"/",className:"text-primary underline",children:"here"})," to return to the homepage."]}):null,503===n?(0,r.jsxs)("h2",{className:"text-center text-lg",children:["We're having some trouble connecting to our servers.",(0,r.jsx)("br",{}),"Please ",(0,r.jsx)("button",{onClick:function(){return window.location.reload()},className:"text-primary underline",children:"try again"})," later."]}):null]})}},69670:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(91309),s=n(85893),a=n(21733),i=n(52327),o=n(67294),l=n(11762),c=n(41664),d=n.n(c),u=n(5853);function h(e){var t,n,c=e.video,h=e.inList,m=e.showUploader,g=void 0===m||m,p=e.showTimeAgo,x=(0,r._)((0,o.useState)(!1),2),f=x[0],b=x[1],v="https://cornhub.objectdepot.net/static/no_thumbnail.jpg";f&&(c.thumbnails&l.ThumbnailFlags.Animated)!=0?v="https://cornhub.objectdepot.net/thumbnail/".concat(c.link_id,"/animated.gif"):(c.thumbnails&l.ThumbnailFlags.HQ)!=0?v="https://cornhub.objectdepot.net/thumbnail/".concat(c.link_id,"/hq.jpg"):(c.thumbnails&l.ThumbnailFlags.LQ)!=0&&(v="https://cornhub.objectdepot.net/thumbnail/".concat(c.link_id,"/lq.jpg"));var j=50;if(c.likes>0||c.dislikes>0){var N=c.likes+c.dislikes;j=Math.round(c.likes/N*100)}return void 0!==h&&h?(0,s.jsxs)("div",{className:"mt-1 flex",children:[(0,s.jsx)(d(),{href:"/video/".concat(c.link_id),className:"relative w-4/7",children:(0,s.jsxs)("div",{onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:[(0,s.jsx)("div",{className:"w-full ".concat(f?"bg-black":"bg-gray-900"," thumbnail-aspect-ratio bg-no-repeat bg-contain"),style:{backgroundImage:"url(".concat(v,")"),backgroundPosition:"50% 50%"}}),(0,s.jsx)("div",{className:"absolute inset-0 z-10 grid",children:(0,s.jsxs)("span",{className:"r-0 b-0 justify-self-end self-end p-1",children:[(c.qualities&l.QualityFlags.P720)!=0?(0,s.jsx)("span",{className:"font-bold",children:"HD "}):null,(0,a.LU)(c.length)]})})]})}),(0,s.jsxs)("div",{className:"w-3/7 ml-1",children:[(0,s.jsx)(d(),{href:"/video/".concat(c.link_id),children:(0,s.jsx)("h2",{children:c.title})}),g?(0,s.jsx)("h3",{className:"text-slate-400",children:(0,s.jsxs)(d(),{href:"/model/".concat(c.uploader.username),children:[(0,s.jsx)(i.sC,{user:c.uploader,className:"inline mr-1"}),null!==(t=c.uploader.display_name)&&void 0!==t?t:c.uploader.username]})}):null,(0,s.jsx)(d(),{href:"/video/".concat(c.link_id),children:(0,s.jsxs)("h3",{className:"text-slate-400",children:[(0,s.jsx)(u.N,{id:1!==c.views?"video.view_count.plural":"video.view_count.single",placeholders:{count:(0,a.CZ)(c.views)}}),(0,s.jsx)("img",{src:void 0===c.my_rating||null===c.my_rating?"https://cornhub.objectdepot.net/static/icons/like.svg":c.my_rating?"https://cornhub.objectdepot.net/static/icons/liked.svg":"https://cornhub.objectdepot.net/static/icons/disliked.svg",width:12,height:12,className:"inline ml-1",alt:"Like"})," ",j,"%"]})}),void 0!==p&&p?(0,s.jsx)("h3",{className:"text-slate-400",children:(0,a.BK)(new Date(c.created_at))}):null]})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)(d(),{href:"/video/".concat(c.link_id),children:[(0,s.jsxs)("div",{className:"relative w-full",onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:[(0,s.jsx)("div",{className:"w-full ".concat(f?"bg-black":"bg-gray-900"," thumbnail-aspect-ratio bg-no-repeat bg-contain"),style:{backgroundImage:"url(".concat(v,")"),backgroundPosition:"50% 50%"}}),(0,s.jsx)("div",{className:"absolute inset-0 z-10 grid",children:(0,s.jsxs)("span",{className:"r-0 b-0 justify-self-end self-end p-1",children:[(c.qualities&l.QualityFlags.P720)!=0?(0,s.jsx)("span",{className:"font-bold",children:"HD "}):null,(0,a.LU)(c.length)]})})]}),(0,s.jsx)("h1",{children:c.title})]}),g?(0,s.jsx)("h3",{className:"text-slate-400",children:(0,s.jsxs)(d(),{href:"/model/".concat(c.uploader.username),children:[(0,s.jsx)(i.sC,{user:c.uploader,className:"inline mr-1"}),null!==(n=c.uploader.display_name)&&void 0!==n?n:c.uploader.username]})}):null,(0,s.jsx)(d(),{href:"/video/".concat(c.link_id),children:(0,s.jsxs)("h3",{className:"text-slate-400",children:[(0,s.jsx)(u.N,{id:1!==c.views?"video.view_count.plural":"video.view_count.single",placeholders:{count:(0,a.CZ)(c.views)}}),(0,s.jsx)("img",{src:void 0===c.my_rating||null===c.my_rating?"https://cornhub.objectdepot.net/static/icons/like.svg":c.my_rating?"https://cornhub.objectdepot.net/static/icons/liked.svg":"https://cornhub.objectdepot.net/static/icons/disliked.svg",width:12,height:12,className:"inline ml-1",alt:"Like"})," ",j,"%"]})})]})}},58365:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r,s=n(11010),a=n(70655),i=n(85893),o=n(67294),l=n(99642),c=n(9473),d=n(71926),u=n(69670),h=n(9008),m=n.n(h),g=n(25795),p=n(52327),x=n(41664),f=n.n(x),b=n(5853),v=n(21032);function j(e){var t=e.data,n=e.error,r=(0,c.I0)();return((0,v.E)(),(0,o.useEffect)(function(){r({type:"navbar:setActiveCategory",val:"home"})},[]),n)?(0,i.jsx)(g.Z,{error:n}):(0,i.jsxs)("div",{className:"p-3 max-w-1300px m-auto",children:[(0,i.jsx)(m(),{children:(0,i.jsx)("title",{children:"CornHub"})}),(0,i.jsx)(d.Z,{orientation:"horizontal",page:"frontpage",position:"top"}),t.hot?(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-3",children:(0,i.jsx)(b.N,{id:"homepage.hot"})}),(0,i.jsx)("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3 md:grid-cols-4",children:t.hot.map(function(e){return(0,i.jsx)(u.Z,{video:e},e.id)})})]}):null,(0,i.jsx)(d.g,{ad:{adnginId:"incontent_1"},orientation:"horizontal"}),t.featured_models?(0,i.jsxs)("div",{className:"mt-5 pt-5 border-t-1 border-primary border-dashed border-opacity-25",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-3",children:(0,i.jsx)(b.N,{id:"homepage.featured"})}),(0,i.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 w-full",children:t.featured_models.map(function(e){var t;return(0,i.jsxs)(f(),{className:"bg-cover bg-center bg-no-repeat thumbnail-aspect-ratio flex",href:"/model/".concat(e.username),style:{backgroundImage:"url(".concat((0,p.gH)(e),")")},children:[(0,i.jsx)("div",{className:"w-1/4 ml-3 mt-auto aspect-square bg-no-repeat bg-contain",style:{backgroundImage:"url(".concat((0,p.SX)(e),")"),backgroundPosition:"50% 50%"}}),(0,i.jsx)("h1",{className:"text-2xl ml-2 font-bold mt-auto",children:null!==(t=e.display_name)&&void 0!==t?t:e.username}),(0,i.jsx)(p.sC,{user:e,className:"inline ml-1 mt-auto mb-2"})]},e.id)})})]}):null,t.new_videos?(0,i.jsxs)("div",{className:"mt-5 pt-5 border-t-1 border-primary border-dashed border-opacity-25",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-3",children:(0,i.jsx)(b.N,{id:"homepage.newest"})}),(0,i.jsx)("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3 md:grid-cols-4",children:t.new_videos.map(function(e){return(0,i.jsx)(u.Z,{video:e,showTimeAgo:!0},e.id)})})]}):null,(0,i.jsx)(d.Z,{orientation:"horizontal",page:"frontpage",position:"bottom"})]})}j.getInitialProps=(r=(0,s._)(function(e){var t,n,r,s,i;return(0,a.Jh)(this,function(a){switch(a.label){case 0:return t=e.req,r=void 0===(n=e.res)?{}:n,[4,l.ZP.get("/recommendation/frontpage",{req:t})];case 1:if(i=(s=a.sent()).data,s.errored)return r.statusCode=503,[2,{error:{status:503}}];return[2,{data:i}]}})}),function(e){return r.apply(this,arguments)})},21032:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(67294);function s(){return(0,r.useEffect)(function(){var e=setInterval(function(){if("complete"===document.readyState){clearInterval(e);try{(window.adsbygoogle||[]).push({})}catch(e){console.error("Ignoring adsense error:",e)}}},100);return function(){return clearInterval(e)}},[]),null}},21733:function(e,t,n){"use strict";n.d(t,{BK:function(){return o},CZ:function(){return a},LU:function(){return s}});var r=n(91309);function s(e){var t=Math.floor(e%6e4/1e3),n=Math.floor(e/6e4);return"".concat(n<10?"0"+n:n,":").concat(t<10?"0"+t:t)}function a(e){if(e<1e3)return e;var t=e>=1e6;return"".concat((e/(t?1e6:1e3)).toFixed(1).replace(".0","")).concat(t?"M":"K")}var i=[["year",31536e3],["month",2592e3],["day",86400],["hour",3600],["minute",60],["second",1]];function o(e){var t=Math.floor((new Date-new Date(e))/1e3);if(0===t)return"now";var n=function(e){var t=!0,n=!1,s=void 0;try{for(var a,o=i[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var l=(0,r._)(a.value,2),c=l[0],d=l[1],u=Math.floor(e/d);if(u>=1)return{interval:u,epoch:c}}}catch(e){n=!0,s=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw s}}}(t),s=n.interval,a=n.epoch;return"".concat(s," ").concat(a).concat(1===s?"":"s"," ago")}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=45728)}),_N_E=e.O()}]);
//# sourceMappingURL=index-720f97c5e4cbd730.js.map